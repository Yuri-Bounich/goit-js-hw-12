{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nconst API_KEY = '46054867-15d582c16d4d1b2cce4772636'\nconst BASE_URL = 'https://pixabay.com/api/'\naxios.defaults.baseURL = BASE_URL; \n\n\n  export const fetchImages = async query => {\n    try {\n        const response = await axios.get(\n          `?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&per_page=15&page=1`\n        );\n    \n        const data = response.data;\n    \n        if (data.hits.length === 0) {\n          throw new Error('No images found for this query.');\n        }\n    \n        return data.hits;\n      } catch (error) {\n        console.error(`Error fetching images: ${error.message}`);\n        throw error; // Перепіднімаємо помилку, щоб її можна було обробити в іншому місці\n      }\n    };\n","\nexport const renderImages = images => {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';\n  \n    if (images.length === 0) {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      return;\n    }\n  \n    const markup = images\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `\n              <li class=\"gallery-item\">\n                  <a href=\"${largeImageURL}\" class=\"gallery-link\">\n                      <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\" />\n                  </a>\n                  <div class=\"info\">\n                      <p class=\"info-item\"><span class=\"info-item-total\">Likes</span> ${likes}</p>\n                      <p class=\"info-item\"><span class=\"info-item-total\">Views</span> ${views}</p>\n                      <p class=\"info-item\"><span class=\"info-item-total\">Comments</span> ${comments}</p>\n                      <p class=\"info-item\"><span class=\"info-item-total\">Downloads</span> ${downloads}</p>\n                  </div>\n              </li>\n          `\n      )\n      .join('');\n  \n    gallery.innerHTML = markup;\n  };\n  \n  export const showLoader = () => {\n    const loader = document.querySelector('.loader');\n    loader.style.display = 'block';\n  };\n  \n  export const hideLoader = () => {\n    const loader = document.querySelector('.loader');\n    loader.style.display = 'none';\n  };\n","\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderImages,  showLoader, hideLoader } from './js/render-functions.js';\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst searchForm = document.querySelector('.form');\nconst galleryElement = document.querySelector('.gallery');\nconst gallery = new SimpleLightbox('.gallery a', { \n    captionsData: 'alt',\n    captionDelay: 250, });\n\n// const fetchPostsBtn = document.querySelector(\".btn\");\n// // const postList = document.querySelector(\".posts\");\n    \n// // Controls the group number\n// let page = 1;\n// // Controls the number of items in the group\n// let perPage = 10;\n\nsearchForm.addEventListener('submit', event => {\n    //Запобігає перезавантаженню сторінки\n    event.preventDefault();\n  \n    // Отримуємо значення з поля запиту\n    const query = event.target.elements.query.value.trim();\n    // Перевіряємо, чи не є запит пустим\n    if (!query) {\n      return; // Якщо пустий, виходимо з обробника\n    }\n  \n    //Очищає попередні результати в галереї\n    galleryElement.innerHTML = '';\n\n    //Показує лоадер і викликає функцію fetchImages(query) для отримання зображень з API\n    showLoader();\n    //Відображає отримані зображення за допомогою renderImages() або показує помилку через iziToast\n    fetchImages(query)\n      .then(images => {\n        renderImages(images);\n        gallery.refresh();\n      })\n      .catch(error => {\n        console.error(error);\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      })\n      //Ховає лоадер після виконання\n      .finally(() => {\n        hideLoader();\n      });\n  \n      // Очищуємо поля форми\n      searchForm.reset(); \n    });\n\n"],"names":["API_KEY","BASE_URL","axios","fetchImages","query","data","error","renderImages","images","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showLoader","loader","hideLoader","searchForm","galleryElement","SimpleLightbox","event","iziToast"],"mappings":"owBACA,MAAMA,EAAU,qCACVC,EAAW,2BACjBC,EAAM,SAAS,QAAUD,EAGhB,MAAME,EAAc,MAAMC,GAAS,CACxC,GAAI,CAKA,MAAMC,GAJW,MAAMH,EAAM,IAC3B,QAAQF,CAAO,MAAMI,CAAK,6EACpC,GAE8B,KAEtB,GAAIC,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MAAM,iCAAiC,EAGnD,OAAOA,EAAK,IACb,OAAQC,EAAO,CACd,cAAQ,MAAM,0BAA0BA,EAAM,OAAO,EAAE,EACjDA,CACP,CACF,ECtBQC,EAAeC,GAAU,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAGjD,GAFAA,EAAQ,UAAY,GAEhBD,EAAO,SAAW,EAAG,CACvB,SAAS,MAAM,CACb,MAAO,QACP,QACE,0EACV,CAAO,EACD,MACD,CAED,MAAME,EAASF,EACZ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc;AAAA;AAAA,6BAEeL,CAAa;AAAA,kCACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,wFAG4BC,CAAK;AAAA,wFACLC,CAAK;AAAA,2FACFC,CAAQ;AAAA,4FACPC,CAAS;AAAA;AAAA;AAAA,WAI9F,EACA,KAAK,EAAE,EAEVR,EAAQ,UAAYC,CACxB,EAEeQ,EAAa,IAAM,CAC9B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OAC3B,EAEeC,EAAa,IAAM,CAC9B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,MACxB,ECrCGE,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAiB,SAAS,cAAc,UAAU,EAClDb,EAAU,IAAIc,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GAAG,CAAG,EAUxBF,EAAW,iBAAiB,SAAUG,GAAS,CAE3CA,EAAM,eAAc,EAGpB,MAAMpB,EAAQoB,EAAM,OAAO,SAAS,MAAM,MAAM,OAE3CpB,IAKLkB,EAAe,UAAY,GAG3BJ,IAEAf,EAAYC,CAAK,EACd,KAAKI,GAAU,CACdD,EAAaC,CAAM,EACnBC,EAAQ,QAAO,CACvB,CAAO,EACA,MAAMH,GAAS,CACd,QAAQ,MAAMA,CAAK,EACnBmB,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,CACT,CAAO,EAEA,QAAQ,IAAM,CACbL,GACR,CAAO,EAGDC,EAAW,MAAK,EACtB,CAAK"}